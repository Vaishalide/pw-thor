<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8" />
  <title>ClearKey DRM Player</title>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/shaka-player/4.3.5/shaka-player.compiled.js"></script>
</head>
<body style="margin:0;background:black;">
  <video id="video" autoplay controls style="width:100%;height:100vh;"></video>

  <script>
    const manifestUri = "https://sec-prod-mediacdn.pw.live/52d05311-18cd-4ac7-b673-c2245f43964d/master.mpd?URLPrefix=aHR0cHM6Ly9zZWMtcHJvZC1tZWRpYWNkbi5wdy5saXZlLzUyZDA1MzExLTE4Y2QtNGFjNy1iNjczLWMyMjQ1ZjQzOTY0ZA&Expires=1750075360&KeyName=pw-prod-key&Signature=OA4S9vDJlXaQgbZNSFYya4Fd4bXjI4Q3PaAUIjjIpE11MlXvQVXOsMKvG7Tw2aEdn5Bcuhg9PQZft0zQEJC6CQ";

    async function initPlayer() {
      shaka.polyfill.installAll();

      if (!shaka.Player.isBrowserSupported()) {
        alert("Browser not supported by Shaka Player.");
        return;
      }

      const video = document.getElementById('video');
      const player = new shaka.Player(video);

      player.configure({
        drm: {
          clearKeys: {
            // KeyID: Key
            "51615ac5447fbac9c079adbe99daef3f": "eb48000f3737e3a243e3c9b18986529d"
          }
        }
      });

      try {
        await player.load(manifestUri);
        console.log("Video loaded successfully!");
      } catch (error) {
        console.error("Error loading video:", error.code, error);
        alert("Failed to load video.");
      }
    }

    document.addEventListener('DOMContentLoaded', initPlayer);
  </script>
</body>
</html>
